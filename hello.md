Here is part of the source code of the WiNCDN project for your reference.
